name: CI deployments
on: [push] 

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive
      - name: Install Foundry
        uses: foundry-rs/foundry-toolchain@v1
        with:
          version: nightly
      - name: Forge deploy contract to mumbai(wip)
        run: forge create --rpc-url https://polygon-mumbai.g.alchemy.com/v2/jllC0ibnwVO8EiXqMikdNt07QCDTjS1h --constructor-args  $(cast abi-encode "constructor((address,address))" "(0x00fb875f4d86c9c73e0176a6d244047a069ce53d,0xf471d32cb40837bf24529fcf17418fc1a4807626)") --private-key 7bb27c19f61482998382d9fcae458c2a9d196115390034ca4ae978dfe07cfbde src/ZeroExOrderBookFlashBorrower.sol:ZeroExOrderBookFlashBorrower
        